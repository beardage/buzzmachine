var buzzmachine=function(e){function s(){slotItemArray=[],d=$(".slot").each(function(e,s){$(".slot-item",this).each(function(e,s){slotItemArray.push($(s).data("id"))}),m.push(slotItemArray),slotItemArray=[]}),$("button").on("click",a)}function a(){if(h===e){$("body").removeClass("coffee-winner"),$("body").removeClass("tea-winner"),$("body").removeClass("espresso-winner"),$(".message-result").hide(),$(".message-spin").show();for(var s=0;3>s;++s)t[s]=Math.random()+1,c[s]=(3*Math.random()|0)*i/3;n()}}function n(s){h||(h=s);for(var a=s-h||0,m=0;3>m;++m)d[m].scrollTop=(t[m]/r/1.5*(r-a)*(r-a)+c[m])%i|0;r>a?requestAnimationFrame(n):(h=e,o())}function o(){if(c[0]===c[1]&&c[1]===c[2]){console.log("winner");var e=c[0];switch(e){case 0:$("body").addClass("coffee-winner"),$(".message-spin").hide(),$(".message-coffee").show();break;case 280:$("body").addClass("tea-winner"),$(".message-spin").hide(),$(".message-tea").show();break;case 560:$("body").addClass("espresso-winner"),$(".message-spin").hide(),$(".message-espresso").show()}}}var r=2500,i=840,t=[],c=[],m=[],d,h;return{init:s}}();$(buzzmachine.init);